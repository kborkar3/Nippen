<%@ taglib prefix="s" uri="/struts-tags"%>
<%@ taglib prefix="sx" uri="/struts-dojo-tags"%>
<%@page import="java.util.List"%>

<script src="js/jquery-1.8.2.js"></script>
<script src="js/jquery-ui.js"></script>

<link rel="stylesheet"
	href="//code.jquery.com/ui/1.11.3/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" href="js/jquery-1.8.2.js" />
<link rel="stylesheet" href="js/jquery-ui.js" />
<link rel="stylesheet" href="/resources/demos/style.css">

<script>
	$(function() {
		$("#HistoricalReportSearchAction_startDate").datepicker({
			dateFormat : '<s:text name="jquery.dateFormat" />'
		});
		$("#HistoricalReportSearchAction_endDate").datepicker({
			dateFormat : '<s:text name="jquery.dateFormat" />'
		});

	});

	$(function() {
		$("#GraphSearchAction_startDate").datepicker({
			dateFormat : '<s:text name="jquery.dateFormat" />'
		});
		$("#GraphSearchAction_endDate").datepicker({
			dateFormat : '<s:text name="jquery.dateFormat" />'
		});

	});
</script>

<head>
<sx:head />
</head>

<sx:tabbedpanel id="tabContainer" cssStyle="width: 500px; height: 300px;" doLayout="true">

	<sx:div label="Meter Display" id="meterDisplay" theme="ajax">
		<s:form action="SelectMeterAction.action" method="post" theme="simple">

			<table width="50%" border="0" cellspacing="3" cellpadding="3"
				height="100%">
				<tr height="65" />
				<tr>

					<td width="30%" align="right" class="fieldname"><s:text
							name="selectMeter.label" />:</td>
					<td align="left"><s:select list="feederList" name="feeder"
							id="feeder" listKey="feeder" listValue="feeder" theme="css_xhtml"
							headerKey="-1" headerValue="Select Feeder" cssStyle="WIDTH:120px"></s:select></td>

					<td width="30%" align="right" class="fieldname">Select Search
						Feeder :</td>

					<td width="40%" align="left"><sx:autocompleter size="1"
							list="feederListSearch" name="feederName" dropdownHeight="450"
							id="feederName"></sx:autocompleter></td>

					<td width="30%"><button type="submit">
							<s:text name="button.go" />
						</button></td>
				</tr>
				<tr height="15" />
			</table>


			<table width="40%" align="left">

				<%
				    java.util.List<com.projectwork.dto.ParameterDTO> parameterdtoList = (java.util.List<com.projectwork.dto.ParameterDTO>)request
				                        .getAttribute("parameterdtoList");
				                String lastUpdatedTime = (String)request.getAttribute("lastUpdatedTime");

				                if (parameterdtoList != null)
				                {
				%>

				<tr>
					<td height="20" width="50%" class="tableheadrow" align="center">Parameter
						Name</td>
					<td height="20" width="50%" class="tableheadrow" align="left">Values</td>
				</tr>

				<%
				    }
				%>
				<s:iterator value="parameterdtoList">
					<tr>
						<td height="20" width="50%" align="center"><s:property
								value="parameterName" /></td>
						<td height="20" width="50%" class="normal" align="center"><s:property
								value="parameterValue" /></td>
					</tr>
				</s:iterator>

				<tr height="25" />

				<tr>

					<%
					    if (lastUpdatedTime != null)
					                {
					%>
					<td>Last updated on: <%=lastUpdatedTime%>
					</td>
					<%
					    }
					%>

				</tr>
			</table>
		</s:form>

	</sx:div>

	<sx:div label="Historical Report" id="historicalReport" theme="ajax">

		<s:if test="hasActionErrors()">
			<table align="center" class="errortableoutline">
				<tr>
					<td><font color="red"><s:actionerror /></font></td>
				</tr>
			</table>
		</s:if>

		<s:form action="/HistoricalReportSearchAction.action" method="post"
			name="doublecombo" theme="simple">
			<table width="70%">

				<tr height="65" />
				<tr>
					<td align="right" width="50%" class="fieldname"><s:text
							name="selectMeter.label" />:</td>
					<td width="50%"><s:select list="feederList" name="feeder"
							id="feeder" listKey="feeder" listValue="feeder" theme="css_xhtml"
							cssStyle="WIDTH:120px"></s:select></td>
				</tr>
				<tr height="35" />

				<%-- 		 	<tr>
			<td align="right" width="50%" class="fieldname"><s:text
					name="selectParameter.label" />:</td>
			<td width="50%">
			
			 <s:doubleselect label="Language (Java List) "
					name="language1" list="languageMap.keySet()" doubleName="language2"
					doubleList="languageMap.get(top)" doubleMultiple="true"/>
					
					</td>
		</tr>
		<tr height="35" />  --%>

				<%-- <tr>
			<td align="right" width="50%" class="fieldname"><s:text
					name="selectParameter.label" />:</td>
			<td width="50%">
			
			<s:doubleselect label="Language (Java List) "
					name="language1" list="languageMap.keySet()" doubleName="language2"
					doubleList="languageMap.get(top)" /></td>
		</tr>
		<tr height="35" /> --%>


				<tr>
					<td align="right" width="50%" class="fieldname"><s:text
							name="selectParameter.label" />:</td>
					<td width="50%">
						<%-- <select id="parameterName" name="parameterName">
					<option>Select Parameter</option>
			</select> --%> <s:select id="s4" label="Select Parameter:" name="ids"
							list="      {'Parameter1','Parameter2','Parameter3','Parameter4','Parameter5','Parameter6','Parameter7','Parameter8'}"
							headerKey="0" property="selectedValues" multiple="true" /> <%-- <s:select list="parameterList" name="parameterName"
					id="parameterName" listKey="parameterName" listValue="parameterName" theme="css_xhtml"
					cssStyle="WIDTH:120px"></s:select>
			 --%>
					</td>
				</tr>
				<tr height="35" />

				<tr>
					<td width="50%" align="right" class="fieldname"><s:text
							name="startDate.label" />:</td>
					<td width="50%"><s:textfield styleClass="data"
							name="startDate" size="10" maxLength="18" tabindex="5" /></td>
				</tr>
				<tr height="35" />
				<tr>
					<td width="50%" align="right" class="fieldname"><s:text
							name="endDate.label" />:</td>
					<td width="50%"><s:textfield styleClass="data" name="endDate"
							size="10" maxLength="18" tabindex="5" /></td>
				</tr>
				<tr height="35" />
				<tr>
					<td width="50%" align="right">
						<button type="submit">
							<s:text name="button.show" />
						</button>
					</td>
					<%-- <td width="50%"><s:reset /></td> --%>
				</tr>
				<tr height="15" />
			</table>
		</s:form>

	</sx:div>

	<s:url id="myUrl" action="/Graph.action"/>

	<sx:div label="Graph" id="graph" theme="ajax" href="%{myUrl}">

		



	</sx:div>

</sx:tabbedpanel>