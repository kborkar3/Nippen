
DROP TABLE FEEDER_PROFILE;

CREATE TABLE FEEDER_PROFILE
(
		METER_VERSION	NUMBER NOT NULL,
		METER_INDEX		NUMBER,
		FEEDER_NAME		VARCHAR(120),
		METER_ID		NUMBER NOT NULL,
		COMP_ID			NUMBER,
		UNIT_ID			NUMBER
);

ALTER TABLE FEEDER_PROFILE ADD CONSTRAINT FEEDER_PROFILE_PK PRIMARY KEY (METER_INDEX, METER_ID);

ALTER TABLE FEEDER_PROFILE ADD CONSTRAINT FEEDER_PROFILE_FK1 FOREIGN KEY (COMP_ID) REFERENCES STORE (COMPANY_ID);
ALTER TABLE FEEDER_PROFILE ADD CONSTRAINT FEEDER_PROFILE_FK2 FOREIGN KEY (UNIT_ID) REFERENCES UNIT (UNIT_ID);

COMMENT ON TABLE FEEDER_PROFILE  IS 'FEEDER_PROFILE';


INSERT INTO FEEDER_PROFILE
(STORE_ID, METER_VERSION, METER_INDEX, FEEDER_NAME, METER_ID, METER_PORT, METER_IP)
VALUES(11111, 1, 1,'Feeder 1', 1, 1, 1);

INSERT INTO FEEDER_PROFILE
(STORE_ID, METER_VERSION, METER_INDEX, FEEDER_NAME, METER_ID, METER_PORT, METER_IP)
VALUES(11111, 1, 2,'Feeder 2', 1, 1, 1);

--INSERT INTO FEEDER_PROFILE
--(STORE_ID, METER_VERSION, METER_INDEX, FEEDER_NAME, METER_ID, METER_PORT, METER_IP)
--VALUES(11111, 1, 1,'Feeder 3', 1, 1, 1);

--INSERT INTO FEEDER_PROFILE
--(STORE_ID, METER_VERSION, METER_INDEX, FEEDER_NAME, METER_ID, METER_PORT, METER_IP)
--VALUES(11111, 1, 1,'Feeder 4', 1, 1, 1);

--INSERT INTO FEEDER_PROFILE
--(STORE_ID, METER_VERSION, METER_INDEX, FEEDER_NAME, METER_ID, METER_PORT, METER_IP)
--VALUES(11111, 1, 1,'Feeder 5', 1, 1, 1);



